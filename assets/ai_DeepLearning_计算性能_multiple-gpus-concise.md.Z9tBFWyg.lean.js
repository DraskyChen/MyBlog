import{_ as k,c as h,o as l,ag as n,j as i,a}from"./chunks/framework.C2Gjomh7.js";const D=JSON.parse('{"title":"多GPU的简洁实现","description":"","frontmatter":{},"headers":[],"relativePath":"ai/DeepLearning/计算性能/multiple-gpus-concise.md","filePath":"ai/DeepLearning/计算性能/multiple-gpus-concise.md","lastUpdated":1756829839000}'),t={name:"ai/DeepLearning/计算性能/multiple-gpus-concise.md"},p={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 500 677","aria-hidden":"true"},E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.262ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1000 688","aria-hidden":"true"},d={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.262ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1000 688","aria-hidden":"true"};function y(F,s,o,c,C,u){return l(),h("div",null,[s[23]||(s[23]=n("",17)),i("p",null,[s[2]||(s[2]=a(":begin_tab:",-1)),s[3]||(s[3]=i("code",null,"mxnet",-1)),s[4]||(s[4]=a(" 使用 :numref:",-1)),s[5]||(s[5]=i("code",null,"sec_multi_gpu",-1)),s[6]||(s[6]=a("中引入的",-1)),s[7]||(s[7]=i("code",null,"split_and_load",-1)),s[8]||(s[8]=a("函数可以切分一个小批量数据，并将切分后的分块数据复制到",-1)),s[9]||(s[9]=i("code",null,"devices",-1)),s[10]||(s[10]=a("变量提供的设备列表中。网络实例自动使用适当的GPU来计算前向传播的值。我们将在下面生成",-1)),i("mjx-container",p,[(l(),h("svg",e,[...s[0]||(s[0]=[i("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[i("g",{"data-mml-node":"math"},[i("g",{"data-mml-node":"mn"},[i("path",{"data-c":"34",d:"M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z",style:{"stroke-width":"3"}})])])],-1)])])),s[1]||(s[1]=i("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("mn",null,"4")])],-1))]),s[11]||(s[11]=a("个观测值，并在GPU上将它们拆分。 :end_tab:",-1))]),s[24]||(s[24]=n("",25)),i("ol",null,[i("li",null,[s[14]||(s[14]=a("本节使用ResNet-18，请尝试不同的迭代周期数、批量大小和学习率，以及使用更多的GPU进行计算。如果使用",-1)),i("mjx-container",E,[(l(),h("svg",r,[...s[12]||(s[12]=[n("",1)])])),s[13]||(s[13]=i("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("mn",null,"16")])],-1))]),s[15]||(s[15]=a("个GPU（例如，在AWS p2.16xlarge实例上）尝试此操作，会发生什么？",-1))]),s[16]||(s[16]=i("li",null,"有时候不同的设备提供了不同的计算能力，我们可以同时使用GPU和CPU，那应该如何分配工作？为什么？",-1)),s[17]||(s[17]=i("li",null,[a("如果去掉"),i("code",null,"npx.waitall()"),a("会怎样？该如何修改训练，以使并行操作最多有两个步骤重叠？ :end_tab:")],-1))]),s[25]||(s[25]=i("p",null,[a(":begin_tab:"),i("code",null,"pytorch, paddle")],-1)),i("ol",null,[i("li",null,[s[20]||(s[20]=a("本节使用ResNet-18，请尝试不同的迭代周期数、批量大小和学习率，以及使用更多的GPU进行计算。如果使用",-1)),i("mjx-container",d,[(l(),h("svg",g,[...s[18]||(s[18]=[n("",1)])])),s[19]||(s[19]=i("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("mn",null,"16")])],-1))]),s[21]||(s[21]=a("个GPU（例如，在AWS p2.16xlarge实例上）尝试此操作，会发生什么？",-1))]),s[22]||(s[22]=i("li",null,"有时候不同的设备提供了不同的计算能力，我们可以同时使用GPU和CPU，那应该如何分配工作？为什么？ :end_tab:",-1))]),s[26]||(s[26]=n("",3))])}const _=k(t,[["render",y]]);export{D as __pageData,_ as default};
