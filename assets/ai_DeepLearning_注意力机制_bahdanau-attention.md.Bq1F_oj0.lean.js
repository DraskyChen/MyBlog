import{_ as l,c as n,o as t,ag as h,j as s,a}from"./chunks/framework.C2Gjomh7.js";const k="/MyBlog/assets/seq2seq-attention-details.BV6bMRaq.svg",V=JSON.parse('{"title":"Bahdanau 注意力","description":"","frontmatter":{},"headers":[],"relativePath":"ai/DeepLearning/注意力机制/bahdanau-attention.md","filePath":"ai/DeepLearning/注意力机制/bahdanau-attention.md","lastUpdated":1756829839000}'),p={name:"ai/DeepLearning/注意力机制/bahdanau-attention.md"},e={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.014ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.156ex",height:"1.038ex",role:"img",focusable:"false",viewBox:"0 -453 511 459","aria-hidden":"true"},E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.444ex",height:"1.742ex",role:"img",focusable:"false",viewBox:"0 -759 638.5 770","aria-hidden":"true"},g={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.365ex",height:"1.382ex",role:"img",focusable:"false",viewBox:"0 -453 1045.5 610.8","aria-hidden":"true"},o={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.593ex",height:"1.532ex",role:"img",focusable:"false",viewBox:"0 -677 704 677","aria-hidden":"true"},c={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.444ex",height:"1.742ex",role:"img",focusable:"false",viewBox:"0 -759 638.5 770","aria-hidden":"true"},u={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.819ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.572ex",height:"6.73ex",role:"img",focusable:"false",viewBox:"0 -1728.7 9977 2974.6","aria-hidden":"true"},Q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.341ex",height:"1.903ex",role:"img",focusable:"false",viewBox:"0 -759 2360.9 841","aria-hidden":"true"},_={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.471ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.281ex",height:"1.495ex",role:"img",focusable:"false",viewBox:"0 -453 1892.1 661","aria-hidden":"true"},D={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.211ex",height:"1.927ex",role:"img",focusable:"false",viewBox:"0 -694 977.3 851.8","aria-hidden":"true"},x={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.448ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 640 453","aria-hidden":"true"};function w(f,i,v,H,z,L){return t(),n("div",null,[i[39]||(i[39]=h("",5)),s("p",null,[i[10]||(i[10]=a("下面描述的Bahdanau注意力模型 将遵循 :numref:",-1)),i[11]||(i[11]=s("code",null,"sec_seq2seq",-1)),i[12]||(i[12]=a("中的相同符号表达。 这个新的基于注意力的模型与 :numref:",-1)),i[13]||(i[13]=s("code",null,"sec_seq2seq",-1)),i[14]||(i[14]=a("中的模型相同， 只不过 :eqref:",-1)),i[15]||(i[15]=s("code",null,"eq_seq2seq_s_t",-1)),i[16]||(i[16]=a("中的上下文变量",-1)),s("mjx-container",e,[(t(),n("svg",d,[...i[0]||(i[0]=[h("",1)])])),i[1]||(i[1]=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mrow",{"data-mjx-texclass":"ORD"},[s("mi",{mathvariant:"bold"},"c")])])],-1))]),i[17]||(i[17]=a(" 在任何解码时间步",-1)),s("mjx-container",E,[(t(),n("svg",r,[...i[2]||(i[2]=[h("",1)])])),i[3]||(i[3]=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msup",null,[s("mi",null,"t"),s("mo",{"data-mjx-alternate":"1"},"′")])])],-1))]),i[18]||(i[18]=a("都会被",-1)),s("mjx-container",g,[(t(),n("svg",y,[...i[4]||(i[4]=[h("",1)])])),i[5]||(i[5]=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msub",null,[s("mrow",{"data-mjx-texclass":"ORD"},[s("mi",{mathvariant:"bold"},"c")]),s("mrow",{"data-mjx-texclass":"ORD"},[s("msup",null,[s("mi",null,"t"),s("mo",{"data-mjx-alternate":"1"},"′")])])])])],-1))]),i[19]||(i[19]=a("替换。 假设输入序列中有",-1)),s("mjx-container",o,[(t(),n("svg",F,[...i[6]||(i[6]=[s("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[s("g",{"data-mml-node":"math"},[s("g",{"data-mml-node":"mi"},[s("path",{"data-c":"1D447",d:"M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z",style:{"stroke-width":"3"}})])])],-1)])])),i[7]||(i[7]=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"T")])],-1))]),i[20]||(i[20]=a("个词元， 解码时间步",-1)),s("mjx-container",c,[(t(),n("svg",m,[...i[8]||(i[8]=[h("",1)])])),i[9]||(i[9]=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msup",null,[s("mi",null,"t"),s("mo",{"data-mjx-alternate":"1"},"′")])])],-1))]),i[21]||(i[21]=a("的上下文变量是注意力集中的输出：",-1))]),s("mjx-container",u,[(t(),n("svg",C,[...i[22]||(i[22]=[h("",1)])])),i[23]||(i[23]=s("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("msub",null,[s("mrow",{"data-mjx-texclass":"ORD"},[s("mi",{mathvariant:"bold"},"c")]),s("mrow",{"data-mjx-texclass":"ORD"},[s("msup",null,[s("mi",null,"t"),s("mo",{"data-mjx-alternate":"1"},"′")])])]),s("mo",null,"="),s("munderover",null,[s("mo",{"data-mjx-texclass":"OP"},"∑"),s("mrow",{"data-mjx-texclass":"ORD"},[s("mi",null,"t"),s("mo",null,"="),s("mn",null,"1")]),s("mi",null,"T")]),s("mi",null,"α"),s("mo",{stretchy:"false"},"("),s("msub",null,[s("mrow",{"data-mjx-texclass":"ORD"},[s("mi",{mathvariant:"bold"},"s")]),s("mrow",{"data-mjx-texclass":"ORD"},[s("msup",null,[s("mi",null,"t"),s("mo",{"data-mjx-alternate":"1"},"′")]),s("mo",null,"−"),s("mn",null,"1")])]),s("mo",null,","),s("msub",null,[s("mrow",{"data-mjx-texclass":"ORD"},[s("mi",{mathvariant:"bold"},"h")]),s("mi",null,"t")]),s("mo",{stretchy:"false"},")"),s("msub",null,[s("mrow",{"data-mjx-texclass":"ORD"},[s("mi",{mathvariant:"bold"},"h")]),s("mi",null,"t")]),s("mo",null,",")])],-1))]),s("p",null,[i[32]||(i[32]=a("其中，时间步",-1)),s("mjx-container",Q,[(t(),n("svg",T,[...i[24]||(i[24]=[h("",1)])])),i[25]||(i[25]=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msup",null,[s("mi",null,"t"),s("mo",{"data-mjx-alternate":"1"},"′")]),s("mo",null,"−"),s("mn",null,"1")])],-1))]),i[33]||(i[33]=a("时的解码器隐状态",-1)),s("mjx-container",_,[(t(),n("svg",A,[...i[26]||(i[26]=[h("",1)])])),i[27]||(i[27]=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msub",null,[s("mrow",{"data-mjx-texclass":"ORD"},[s("mi",{mathvariant:"bold"},"s")]),s("mrow",{"data-mjx-texclass":"ORD"},[s("msup",null,[s("mi",null,"t"),s("mo",{"data-mjx-alternate":"1"},"′")]),s("mo",null,"−"),s("mn",null,"1")])])])],-1))]),i[34]||(i[34]=a("是查询， 编码器隐状态",-1)),s("mjx-container",D,[(t(),n("svg",B,[...i[28]||(i[28]=[h("",1)])])),i[29]||(i[29]=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("msub",null,[s("mrow",{"data-mjx-texclass":"ORD"},[s("mi",{mathvariant:"bold"},"h")]),s("mi",null,"t")])])],-1))]),i[35]||(i[35]=a("既是键，也是值， 注意力权重",-1)),s("mjx-container",x,[(t(),n("svg",b,[...i[30]||(i[30]=[s("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[s("g",{"data-mml-node":"math"},[s("g",{"data-mml-node":"mi"},[s("path",{"data-c":"1D6FC",d:"M34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26Z",style:{"stroke-width":"3"}})])])],-1)])])),i[31]||(i[31]=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mi",null,"α")])],-1))]),i[36]||(i[36]=a("是使用 :eqref:",-1)),i[37]||(i[37]=s("code",null,"eq_attn-scoring-alpha",-1)),i[38]||(i[38]=a(" 所定义的加性注意力打分函数计算的。",-1))]),i[40]||(i[40]=h("",39))])}const M=l(p,[["render",w]]);export{V as __pageData,M as default};
